/* ==========================================================================
   THE DOCTOR ADMIN - MESSAGES STYLE (PREMIUM GREEN/BLUE THEME)
   File: assets/css/messages.css
   ========================================================================== */

:root {
  /* Theme Colors */
  --chat-primary: #00d894; /* Green */
  --chat-primary-dark: #00b078;
  --chat-primary-glow: rgba(0, 216, 148, 0.4);

  --chat-secondary: #0071bc; /* Blue */
  --chat-secondary-light: rgba(0, 113, 188, 0.1);

  --chat-border: #ebe9f1;
  --chat-bg-light: #ffffff;
  --chat-text-muted: #b9b9c3;
}

/* ==========================================================================
   1. LAYOUT & STRUCTURE
   ========================================================================== */
.chat-application .content-area-wrapper {
  border: 1px solid var(--chat-border);
  border-radius: 0.428rem;
  background-color: var(--chat-bg-light);
}

.chat-box .row {
  width: 100%;
  margin: 0;
}

/* Sidebar Area */
.sidebar-left {
  border-right: 1px solid var(--chat-border);
  height: 100%;
}

.chat-user-list-wrapper {
  height: calc(100% - 138px); /* Adjust based on header/search height */
  overflow-y: auto;
}

/* ==========================================================================
   2. SEARCH & HEADERS
   ========================================================================== */
.chat-fixed-search {
  padding: 1.3rem 1.5rem;
  border-bottom: 1px solid var(--chat-border);
  background-color: var(--chat-bg-light);
}

.input-group-text {
  background-color: transparent;
  border-color: var(--chat-border);
}

.chat-fixed-search .form-control {
  border-color: var(--chat-border);
  padding-left: 0;
}

.chat-fixed-search .form-control:focus {
  border-color: var(--chat-primary);
  box-shadow: none;
}

.chat-fixed-search .input-group:focus-within {
  box-shadow: 0 0 0 0.2rem rgba(0, 216, 148, 0.1);
  border-radius: 0.357rem;
  border-color: var(--chat-primary);
}

.chat-list-title {
  color: var(--chat-secondary);
  font-weight: 700;
  font-size: 1.1rem;
  margin: 1.5rem 1.5rem 0.5rem;
}

/* ==========================================================================
   3. USER LIST (SIDEBAR)
   ========================================================================== */
.chat-users-list {
  padding: 0;
  margin: 0;
  list-style: none;
}

.chat-users-list li {
  padding: 0.8rem 1.5rem;
  cursor: pointer;
  transition: all 0.3s ease;
  border-left: 3px solid transparent;
}

.chat-users-list li:hover {
  background-color: var(--chat-secondary-light);
}

/* Active Conversation -> Green Gradient */
.chat-users-list li.active {
  background: linear-gradient(
    118deg,
    var(--chat-primary),
    var(--chat-primary-dark)
  );
  box-shadow: 0 3px 10px 0 var(--chat-primary-glow);
  border-left-color: transparent;
}

.chat-users-list li.active h5,
.chat-users-list li.active p,
.chat-users-list li.active .chat-time {
  color: #fff !important;
}

.chat-info h5 {
  margin-bottom: 0.2rem;
  color: #5e5873;
  font-weight: 600;
}

.chat-info p {
  color: var(--chat-text-muted);
  font-size: 0.85rem;
  margin-bottom: 0;
}

/* Avatar Status */
.avatar-status-online {
  background-color: var(--chat-primary) !important; /* Green */
}
.avatar-status-busy {
  background-color: var(
    --chat-secondary
  ) !important; /* Blue (was Red/Orange) */
}
.avatar-status-offline {
  background-color: #82868b !important;
}

/* ==========================================================================
   4. CHAT WINDOW (RIGHT SIDE)
   ========================================================================== */
.chat-app-window {
  height: 100%;
}

.active-chat {
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

/* Chat Header */
.chat-navbar {
  height: 65px;
  background-color: var(--chat-bg-light);
  border-bottom: 1px solid var(--chat-border);
  display: flex;
  align-items: center;
  padding: 0 1.5rem;
  z-index: 9;
}

.current-conversation {
  color: var(--chat-secondary);
  font-weight: 700;
}

/* Chat Area (Messages) */
.user-chats {
  flex: 1;
  overflow-y: auto;
  padding: 1.5rem;
  background-color: rgba(248, 248, 248, 0.5);
}

.chats .chat {
  display: flex;
  margin-bottom: 1.5rem;
  justify-content: flex-end; /* Default: Sender (Right) */
}

.chats .chat-avatar {
  margin-left: 0.75rem;
}

/* --- SENDER BUBBLE (ME) -> GREEN --- */
.chats .chat-body .chat-content {
  background-color: var(--chat-primary);
  color: #fff;
  padding: 0.8rem 1.2rem;
  border-radius: 0.357rem;
  border-top-right-radius: 0;
  box-shadow: 0 4px 8px 0 rgba(0, 216, 148, 0.2);
  max-width: 75%;
  position: relative;
  font-size: 0.95rem;
}

.chats .chat-body .chat-content p {
  margin: 0;
  color: #fff;
}

/* --- RECEIVER BUBBLE (THEM) -> WHITE/GRAY --- */
.chats .chat-left {
  justify-content: flex-start;
}

.chats .chat-left .chat-avatar {
  margin-right: 0.75rem;
  margin-left: 0;
}

.chats .chat-left .chat-body .chat-content {
  background-color: #fff;
  color: #5e5873;
  border: 1px solid var(--chat-border);
  border-radius: 0.357rem;
  border-top-left-radius: 0;
  box-shadow: 0 2px 4px 0 rgba(34, 41, 47, 0.05);
}

.chats .chat-left .chat-body .chat-content p {
  color: #5e5873;
}

/* ==========================================================================
   5. INPUT AREA & UPLOADS
   ========================================================================== */
.chat-app-form {
  padding: 1rem 1.5rem;
  background-color: var(--chat-bg-light);
  border-top: 1px solid var(--chat-border);
}

.chat-app-form-inputs {
  display: flex;
  align-items: center;
}

.form-send-message {
  flex-grow: 1;
  margin-right: 1rem;
}

/* Send Button */
.btn-primary.send {
  background-color: var(--chat-primary) !important;
  border-color: var(--chat-primary) !important;
  box-shadow: 0 2px 6px 0 rgba(0, 216, 148, 0.4);
  padding: 0.7rem 1.2rem;
}

.btn-primary.send:hover {
  background-color: var(--chat-primary-dark) !important;
  box-shadow: 0 4px 12px 0 rgba(0, 216, 148, 0.6);
}

/* Attachment Icon */
.attachment-icon i {
  color: var(--chat-secondary) !important;
}

/* Upload Area */
.chat-app-form-files {
  margin-top: 0.5rem;
}

.upload-area__drop-zoon {
  border: 2px dashed var(--chat-secondary);
  background-color: rgba(0, 113, 188, 0.03);
  border-radius: 6px;
  padding: 1rem;
  text-align: center;
  transition: all 0.3s;
}

.upload-area__drop-zoon:hover {
  background-color: rgba(0, 113, 188, 0.08);
}

.drop-zoon__icon svg path {
  stroke: var(--chat-secondary);
}

.drop-zoon__title label {
  color: var(--chat-secondary);
  text-decoration: underline;
  cursor: pointer;
}

/* ==========================================================================
   6. DARK MODE SUPPORT (PREMIUM)
   ========================================================================== */
html.dark-layout .chat-application .content-area-wrapper {
  background-color: #283046;
  border-color: #3b4253;
}

html.dark-layout .sidebar-left {
  border-right-color: #3b4253;
}

html.dark-layout .chat-fixed-search,
html.dark-layout .chat-navbar,
html.dark-layout .chat-app-form {
  background-color: #283046;
  border-color: #3b4253;
}

html.dark-layout .input-group-text,
html.dark-layout .form-control {
  background-color: #161d31;
  border-color: #3b4253;
  color: #d0d2d6;
}

html.dark-layout .chat-users-list li:hover {
  background-color: #161d31;
}

html.dark-layout .chat-info h5 {
  color: #d0d2d6;
}

html.dark-layout .chat-info p {
  color: #b9b9c3;
}

html.dark-layout .user-chats {
  background-color: #161d31; /* Darker background for chat area */
}

/* Dark Mode: Receiver Bubble */
html.dark-layout .chats .chat-left .chat-body .chat-content {
  background-color: #283046 !important; /* Card Color */
  border-color: #3b4253;
  color: #d0d2d6;
  box-shadow: none;
}

html.dark-layout .chats .chat-left .chat-body .chat-content p {
  color: #d0d2d6;
}

/* Dark Mode: Sender Bubble (Keeps Green but adjusts shadow) */
html.dark-layout .chats .chat:not(.chat-left) .chat-body .chat-content {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.4);
}

/* Dark Mode: Upload Area */
html.dark-layout .upload-area__drop-zoon {
  background-color: #161d31;
  border-color: #3b4253;
}

html.dark-layout .drop-zoon__title label {
  color: var(--chat-secondary);
}

/* Scrollbars */
::-webkit-scrollbar {
  width: 6px;
}
::-webkit-scrollbar-thumb {
  background: #ccc;
  border-radius: 10px;
}
html.dark-layout ::-webkit-scrollbar-thumb {
  background: #4b5563;
}
::-webkit-scrollbar-thumb:hover {
  background: var(--chat-primary);
}
